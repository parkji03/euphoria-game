var WORLD_CHOOSER={doors:null,door1Locked:!1,door2Locked:!0,door3Locked:!0,gc1:null,gc2:null,gc3:null,gc4:null,gc5:null,gc6:null,gc7:null,createSigns:function(o){WORLD.signs=o.add.group(),WORLD.signs.enableBody=!0,WORLD.createSign(o,38,600,WORLD.signs,'Use  " W A S D "  to move.')},createDoor:function(o,e,t){var i=this.doors.create(e,t,"door");i.scale.setTo(3),i.body.allowGravity=!1,i.animations.add("open",[0,1,2,3,4],5,!0).onComplete.add(function(){}),i.animations.frame=0},createDoors:function(o){this.doors=o.add.group(),this.doors.enableBody=!0,this.createDoor(o,470,403),this.createDoor(o,928,139),this.createDoor(o,1384,403),this.doors.children[0].state="World1",this.doors.children[0].locked=this.door1Locked,this.doors.children[1].state="World2",this.doors.children[1].locked=this.door2Locked,this.doors.children[2].state="World3",this.doors.children[2].locked=this.door3Locked},createPointer:function(o,e){var t=o.add.sprite(e.position.x+43,e.position.y-80,"pointer");return t.scale.setTo(WORLD.scale),t.animations.add("point",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],24,!0),t.animations.play("point"),t.visible=!1,t},createPointers:function(o){this.doors.children[0].pointer=this.createPointer(o,this.doors.children[0]),this.doors.children[1].pointer=this.createPointer(o,this.doors.children[1]),this.doors.children[2].pointer=this.createPointer(o,this.doors.children[2])},create:function(o){WORLD.enablePhysics(o),this.gc1=o.add.tileSprite(0,0,1920,1080,"gc_1"),this.gc2=o.add.tileSprite(0,0,1920,1080,"gc_2"),this.gc5=o.add.tileSprite(600,270,1920,1080,"gc_5"),this.gc3=o.add.tileSprite(0,0,1920,1080,"gc_3"),this.gc4=o.add.tileSprite(0,0,1920,1080,"gc_4"),this.gc5.scale.setTo(.5),WORLD.map=o.add.tilemap("map_worldchooser"),WORLD.map.addTilesetImage("grass","grass"),WORLD.worldLayer=WORLD.map.createLayer("Layer1"),WORLD.worldLayer.setScale(WORLD.scale),WORLD.worldLayer.resizeWorld(),WORLD.map.setCollisionBetween(0,45,!0,WORLD.worldLayer),this.createDoors(o),this.createPointers(o),this.createSigns(o)},updateDoorCollision:function(o){o.physics.arcade.overlap(PLAYER.sprite,this.doors,function(e,t){4===t.animations.currentAnim.frame?o.time.events.add(500,function(){o.state.start(t.state)}):t.locked?UI.showBottomOverlay("This door is locked."):(UI.showBottomOverlay("Press E to open the door."),PLAYER.keyE.isDown&&(PLAYER.stop=!0,PLAYER.sprite.animations.play("idle"),t.animations.play("open",8,!1)))},null,o)},update:function(o){this.updateDoorCollision(o),WORLD.updateSignCollision(o),this.gc4.tilePosition.x-=.06,this.gc2.x=.08*o.camera.x,this.gc3.x=.04*o.camera.x,this.gc4.x=.03*o.camera.x,this.doors.forEach(function(o){o.locked||(o.pointer.visible=!0)},o)}};