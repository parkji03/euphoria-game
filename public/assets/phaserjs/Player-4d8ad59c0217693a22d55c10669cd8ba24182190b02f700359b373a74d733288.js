function createPlayer(a){a.player=a.add.sprite(32,a.world.height-300,"player"),a.player.scale.setTo(a.hardScale,a.hardScale),a.player.animations.add("left-fall",[1,0],36,!0).speed=10,a.player.animations.add("left-jump",[3,2],36,!0).speed=10,a.player.animations.add("left-run",[11,10,9,8,7,6,5,4],36,!0).speed=13,a.player.animations.add("idle",[12,13,14,15,16,17,18,19,20,21,22,23],36,!0).speed=13,a.player.animations.add("right-run",[24,25,26,27,28,29,30,31],36,!0).speed=13,a.player.animations.add("right-jump",[32,33],36,!0).speed=10,a.player.animations.add("right-fall",[34,35],36,!0).speed=10,a.physics.arcade.enable(a.player),a.player.body.collideWorldBounds=!0,a.camera.follow(a.player,Phaser.Camera.FOLLOW_PLATFORMER),a.player.checkWorldBounds=!0,a.player.events.onOutOfBounds.add(function(){playerDeath(a)},a),a.map.setTileIndexCallback(a.spike_id,function(){playerDeath(a)},a,a.worldLayer)}function checkPlayerMobCollision(a){a.physics.arcade.overlap(a.player,a.greenDinoGroup,function(){playerDeath(a)},null,a)}function checkPlayerCoinCollision(a){a.physics.arcade.overlap(a.player,a.coinGroup,function(e,l){l.kill(),a.coinCount+=1,a.coinText.text="Score: "+a.coinCount,a.happyBarProgress.width+a.happyBarTenth>a.happyBarProgressLength?a.happyBarProgress.width=a.happyBarProgressLength:a.happyBarProgress.width+=a.happyBarTenth},null,a)}function updatePlayerMovement(a){a.player.body.velocity.x=0;var e=a.physics.arcade.collide(a.player,a.worldLayer);checkPlayerMobCollision(a),checkPlayerCoinCollision(a),a.leftKey.isDown&&a.player.alive?(a.player.body.velocity.x=-1*a.playerVelocity,a.player.animations.play("left-run")):a.rightKey.isDown&&a.player.alive?(a.player.body.velocity.x=a.playerVelocity,a.player.animations.play("right-run")):a.player.animations.play("idle"),a.upKey.isDown&&a.player.alive&&e&&a.player.body.onFloor()&&(a.player.body.velocity.y=a.playerJump,a.player.body.velocity.y>0?a.player.animations.play("right-jump"):a.player.animations.play("left-jump")),a.player.body.velocity.y<0&&(a.player.body.velocity.x<0?a.player.animations.play("left-fall"):a.player.animations.play("right-fall")),a.player.body.velocity.y>0&&(a.player.body.velocity.x<0?a.player.animations.play("left-fall"):a.player.animations.play("right-fall"))}function playerDeath(a){if(a.player.alive){a.retryLabel=a.add.text(a.camera.width/2,a.camera.height/2-100,"Press 'Spacebar' to reset",{font:"30px Arial",fill:"#FFF"}),a.retryLabel.anchor.setTo(.5,.5),a.retryLabel.fixedToCamera=!0,a.player.alive=!1;var e=a.add.sprite(a.player.position.x,a.player.position.y-30,"emoticons");e.scale.setTo(3),e.animations.add("empty-skull",[72,73,74],78,!0).speed=2,e.animations.play("empty-skull"),updateDeathLabel(a),a.retryKey=a.input.keyboard.addKey(Phaser.KeyCode.SPACEBAR),a.retryKey.onDown.add(function(){a.player.kill(),a.state.restart()},a)}}